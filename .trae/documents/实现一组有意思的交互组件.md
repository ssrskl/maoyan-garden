## 目标
- 为文章中的所有代码块提供一键复制按钮，点击即可将代码内容写入剪贴板，并给出视觉反馈。
- 保持现有 `rehype-pretty-code` 的语法高亮、行号与高亮行能力不变。

## 现状与结构
- MDX 渲染由 `rehype-pretty-code` 生成结构：`figure[data-rehype-pretty-code-figure] > pre > code[data-language] > [data-line]...`
- 相关样式位于 `styles/mdx.css`，已针对 `data-rehype-pretty-code-figure`、行号与高亮行做了基础样式。
- MDX 组件注册在 `components/mdx-components.tsx`，目前未自定义 `pre` 渲染。

## 实现方案
1. 新增组件 `components/code-block.tsx`
   - Client 组件；渲染一个 `div`（`relative`）包裹原始 `pre` 内容，并在右上角叠加一个 Copy 按钮。
   - 通过 `ref` 获取 `pre` 内的 `code` 节点，从 `code.innerText` 读取纯代码文本（不含行号，因为行号由 CSS `::before` 生成）。
   - 使用 `navigator.clipboard.writeText(text)` 写入剪贴板；成功后按钮显示“已复制”，1.5s 自动恢复；失败则显示“复制失败”。
   - 无障碍与交互：`aria-label`、键盘 `Enter/Space` 执行复制、`focus` ring。
   - 语言徽标（可选）：读取 `code.dataset.language`，右上角显示一个小 `Badge`。

2. 在 MDX 中注册覆盖 `pre`
   - 修改 `components/mdx-components.tsx` 的 `components` 映射，增加 `pre: CodeBlock`，其余保持不变。
   - 不改变 `code` 的内部渲染与语法高亮，仅在外层添加复制按钮与可选语言标记。

3. 样式与视觉
   - 复制按钮：`absolute top-2 right-2`，`rounded`、`border`、`bg-background`，`hover:bg-accent`；在窄屏下保持可点且不遮挡代码。
   - 父容器：`relative`，保证按钮叠加；`pre` 保持现有 `mdx.css` 的样式。

4. 可选增强（可在后续迭代）
   - 使用 `sonner` 弹出轻提示（已在依赖中）：复制成功/失败 toast。
   - 支持选中部分文本复制：按钮复制全部；保留手动选择复制的原生能力。
   - 复制图标状态切换（如 `Copy` → `Check`），增强动效反馈。

## 测试与验证
- 在包含多种语言与长代码的文章（如 `content/blog/github-markdown.mdx`、`content/blog/**`）中测试复制结果。
- 验证行号与高亮行不被复制（因行号为伪元素文本，不会进入剪贴板）。
- 移动端与桌面端点击、键盘可达性、暗色模式下的可读性。

## 兼容性与性能
- 仅在代码块组件中激活，影响范围小；使用原生剪贴板 API，无额外依赖。
- 不修改 `velite` 构建与 `rehype-pretty-code` 配置，低风险。

## 实施变更列表
- 新增：`components/code-block.tsx`
- 修改：`components/mdx-components.tsx` 添加 `pre: CodeBlock` 注册
- 可选：如需语言徽标的样式微调，可在组件内使用现有 UI（`Badge`/`Button`）。

请确认以上方案，确认后我将直接落地实现并在开发环境验证交互与复制效果。